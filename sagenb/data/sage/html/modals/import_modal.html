{% extends 'html/modals/modal_base.html' %}

{% block modal_id %}import_modal{% endblock modal_id %}

{% block modal_title %}Import Worksheet{% endblock modal_title %}

{% block modal_content %}

<div class="tabbable">

	<ul class="nav nav-tabs">
		<li class="active"><a href="#upload_file_tab" data-toggle="tab">Upload file</a></li>
        <li><a href="#from_text_file_tab" data-toggle="tab">From Text File</a></li>
		<li><a href="#from_url_tab" data-toggle="tab">From URL</a></li>
	</ul>

	<div id="import_details">
		<h5>Supported file formats:</h5>
		<ul>
			<li><code>.sws</code> - a Sage worksheet</li>
			<li><code>.html</code> or <code>.txt</code> - a worksheet text file with html code and cells surrounded by <code>&#123;&#123;&#123;</code> and <code>&#125;&#125;&#125;</code> that defines a worksheet</li>
			<li><code>.html</code> - the URL of a page of the Sage Documentation, for example the URL of <a class="reference external" href="http://www.sagemath.org/doc/reference/sage/rings/integer.html">this page</a></li>
			<li><code>.html</code> - an HTML page generated by docutils from a ReStructuredText file</li>
			<li><code>.rst</code> - a ReStructuredText file (Add "<code>.. escape-backslashes</code>" as a line in the file if you want backslashes to be escaped. Put latex code inside backticks "<code>`</code>" or dollar signs "<code>$</code>" or "<code>$$</code>". Math role is not supported for now.)</li>
			<li><code>.zip</code> - a zip archive of any of the above</li>
            <li><code>.txt</code> - a plain text file (you must use the From Text File option)</li>
            <li><code>.m</code> - a matlab script file (you must use the From Text File option)</li>
            <li><code>.r</code> - a R script file (you must use the From Text File option)</li>
		</ul>
	</div>

	<div class="tab-content" style="padding-top: 10px">

		<div class="tab-pane active" id="upload_file_tab">
			<form class="form-horizontal" method="post" action="/upload_worksheet" name="upload" enctype="multipart/form-data" target="_blank">
				<input type="hidden" name="url" value="">
                <input type="hidden" name="text_file" value="">

				<fieldset>

					<div class="control-group">
						<label class="control-label" for="file">File</label>
						<div class="controls">
							<input class="input-file" id="file" name="file" type="file">
						</div>
					</div>

					<div class="control-group">
						<label class="control-label" for="name">New name</label>
						<div class="controls">
							<input type="text" class="input-xlarge" id="name" name="name">
							<p class="help-block">Optional. Pick a new name for the worksheet.</p>
						</div>
					</div>

				</fieldset>
			</form>
		</div>

        <div class="tab-pane" id="from_text_file_tab">
            <form class="form-horizontal" method="post" action="/upload_from_file" name="import" enctype="multipart/form-data" target="_blank">
                <input type="hidden" name="url" value="">
                <input type="hidden" name=file" value="">
            
                <fieldset>
                    <div class="control-group">
                        <label class="control-label" for="text_file">File</label>
                        <div class="controls">
                            <input class="input-file" id="text_file" name="text_file" type="file">
                        </div>
                    </div>

                    <div class="control-group">
                        <label class="control-label" for="name">New name</label>
                        <div class="controls">
                            <input type="text" class="input-xlarge" id="name" name="name">
                            <p class="help-block">Optional. Pick a new name for the worksheet.</p>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>

		<div class="tab-pane" id="from_url_tab">
			<form class="form-horizontal" method="post" action="/upload_worksheet" name="upload" enctype="multipart/form-data" target="_blank">
				<input type="hidden" name="file" value="">
                <input type="hidden" name="text_file" value="">

				<fieldset>

					<div class="control-group">
						<label class="control-label" for="url">URL</label>
						<div class="controls">
							<input type="text" class="input-xlarge" id="url" name="url">
							<p class="help-block">URL of the file you would like to import.</p>
						</div>
					</div>

					<div class="control-group">
						<label class="control-label" for="name">New name</label>
						<div class="controls">
							<input type="text" class="input-xlarge" id="name" name="name">
							<p class="help-block">Optional. Pick a new name for the worksheet.</p>
						</div>
					</div>

				</fieldset>
			</form>
		</div>

	</div>

</div>

{% endblock modal_content %}

{% block modal_footer %}
<a href="#" class="btn" data-dismiss="modal">Cancel</a>
<a href="#" class="btn btn-primary" data-dismiss="modal">Upload</a>
{% endblock modal_footer %}
